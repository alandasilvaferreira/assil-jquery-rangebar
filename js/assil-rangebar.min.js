!function(a){function n(n){var i=a(n.target),s=i.parent(),f=s.data("rangebar"),l=f.max-f.min,d=s.width(),g=i.offset().left,c={start:t(l,r(d,g)),end:t(l,r(d,g+i.width()))};i.data("range",c),a(".range-label",i).text(f.label(c))}function e(a,n,e){return{left:t(n,r(a,e.start)),right:t(n,r(a,e.end))}}function r(a,n){return 100*n/a}function t(a,n){return a*n/100}a.fn.rangeBar=function(n){var e=a.extend({},a.fn.rangeBar.defaultOptions,n);return this.each(function(){var n=a(this);n.data("rangebar",e),a.fn.rangeBar.setRanges(n,e.ranges)})},a.fn.rangeBar.setRanges=function(r,t){r.each(function(){var i=r.data("rangebar"),s=i.max-i.min;a.each(t,function(t,i){{var f=a("<div class='range'>").data("range",i);f.append("<div class='range-resize-handle left'>"),f.append("<div class='range-label'>"),f.append("<div class='range-resize-handle right'>")}r.append(f);var c=e(s,r.width(),i);f.offset({left:c.left}),f.width(c.right-c.left),i.disabled||(f.resizable({containment:r,handles:"e, w",resize:function(a,e){n(a,e)}}),f.draggable({containment:r,scroll:!1,axis:"x",handle:".range-label",start:function(a,e){n(a,e)},drag:function(a,e){n(a,e)},stop:function(a,e){n(a,e)}})),n({target:f})})})},a.fn.rangeBar.defaultOptions={min:0,max:100,ranges:[],label:function(a){return parseInt(a.start)+"-"+parseInt(a.end)}},a.fn.rangeBar.defaultRange={start:0,end:0,disabled:!1,css:"",canOverlap:!1}}(jQuery);
